(()=>{"use strict";function e(){const e=document.createElement("div");return e.classList.add("projectCreator"),e.innerHTML='\n        <div>\n            <input type="text" placeholder="Project name...">\n            <span class="projectErorrMsg"></span>\n        </div>\n        <div>\n            <button class="projectBtn cancelProjectBtn">Cancel</button>\n            <button class="projectBtn addProjectBtn">Add Project</button>\n        </div>\n    ',e}function t(){const e=document.querySelector("main#main");document.querySelector(".taskContainer"),e.classList.toggle("menuIsNotActive")}function n(e){const t=document.querySelector(".dropDown"),n=e.target.children[0];"none"==t.style.display?(t.style.display="block",n.classList.toggle("fa-caret-down"),n.classList.toggle("fa-caret-up")):(t.style.display="none",n.classList.toggle("fa-caret-down"),n.classList.toggle("fa-caret-up"))}function o(e){const t=document.querySelector("#modalBackground");t.appendChild(function(){const e=document.createElement("div");return e.classList.add("modal"),e.innerHTML='\n        <div class="taskCreationHeader modalHeader">\n            <div>New Task</div>\n            <i class="fa-solid fa-x"></i>\n        </div>\n        <form class="taskCreationForm">\n            <div class="taskDetails1">\n                <label for="taskTitle">Title:</label>\n                <input class="taskEntry" type="text" id="taskTitle" placeholder="e.g. Pay bills" spellcheck = "true">\n                <span class="errorMsg"></span>\n\n                <label for="taskDescription">Description:</label>\n                <textarea class="taskEntry" id="taskDescription" placeholder="e.g. internet, phone, rent, etc" spellcheck = "true"></textarea>\n\n            </div>\n            <div class="taskDetails2">\n                <label for="dueDate">Due Date:</label>\n                <input type="datetime-local" class="taskEntry" id="dueDate">\n\n                <label for="priority">Priority:</label>\n                <select id="priority" class="taskEntry">\n                    <option value="none" selected>None</option>\n                    <option value="low">Low</option>\n                    <option value="medium">Medium</option>\n                    <option value="high">High</option>\n                </select>\n\n                <label for="">Project:</label>\n                <select id="" class="taskEntry"></select>\n            </div>\n            <div class="taskCreationDecision">\n                <button type="button" class="cancelTaskBtn modalBtn cancelModalBtn">Cancel</button>\n                <button type="button" class="addTaskBtn modalBtn addModalBtn">Add task</button>\n            </div>\n\n        </form>\n\n    ',e}()),r(c,"click",document.querySelector(".fa-x"),document.querySelector(".cancelTaskBtn")),t.style.display="flex"}function c(e){const t=document.querySelector("#modalBackground"),n=document.querySelector(".modal"),o=document.querySelector(".cancelTaskBtn");l(c,"click",document.querySelector(".fa-x"),o),t.removeChild(n),t.style.display="none"}function s(t){e();const n=document.querySelector(".projects"),o=document.querySelector(".addProject");document.querySelector(".dropDown").appendChild(e()),document.querySelector(".addProjectBtn"),r(a,"click",document.querySelector(".cancelProjectBtn")),n.style.display="none",o.style.display="none"}function a(e){const t=document.querySelector(".projectCreator"),n=document.querySelector(".projects"),o=document.querySelector(".addProject"),c=document.querySelector(".dropDown");document.querySelector(".addProjectBtn"),l(a,"click",document.querySelector(".cancelProjectBtn")),c.removeChild(t),n.style.display="block",o.style.display="block"}function r(e,t,...n){n.forEach((n=>n.addEventListener(t,e)))}function l(e,t,...n){n.forEach((n=>n.removeEventListener(t,e)))}class i{constructor(e){this.title=e,this.tasks=[]}generateHTML(){}addTask(e){this.tasks.push(e)}removeTask(e){this.tasks.splice(e,1)}}class d{constructor(e,t,n,o,c){this.title=e,this.description=t,this.priority=n,this.dueDate=o,this.project=c,this.completion=!1}generateHTML(){}}class u{constructor(){this.projects=[]}get allTasks(){return this.projects.reduce(((e,t)=>e.concat(t.tasks)),[])}}function p(){const e=new u;e.projects.push(new i("Home"));const t=new d("exampleTask","testing please work","medium","12/12/12","Home");return e.projects[0].tasks.push(t),localStorage.masterObject=JSON.stringify(e),e}!function(){if("undefined"!=typeof Storage){if(localStorage.masterObject){const e=new u,t=JSON.parse(localStorage.masterObject);return e.projects=t.projects.map((e=>{const t=new i;return t.tasks=e.tasks.map((e=>Object.assign(new d,e))),Object.assign(t,e)})),localStorage.masterObject=JSON.stringify(e),e}return p()}p()}(),(()=>{const e=document.querySelector(".menuIcon"),c=document.querySelector(".projectsTitle"),a=document.querySelector(".addTask"),r=document.querySelector(".addProject");e.addEventListener("click",t),c.addEventListener("click",n),a.addEventListener("click",o),r.addEventListener("click",s)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFhMUUsU0FBU08sY0FBYyxZQUNwQ29CLEVBQWdCM0IsU0FBU08sY0FBYyxlQUU3Q2lFLEVBQVNyQyxpQkFBaUIsUUFBVSxHQUNwQ3NDLEVBQWlCdEMsaUJBQWlCLFFBQVMsR0FDM0N1QyxFQUFXdkMsaUJBQWlCLFFBQVEsR0FDcENSLEVBQWNRLGlCQUFpQixRQUFRLEVBQXlCLEVJVHBFd0MsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvLWRvLWxpc3QtYXBwLy4vc3JjL21vZHVsZXMvZG9tQ3JlYXRpb24uanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC1hcHAvLi9zcmMvbW9kdWxlcy9VSW1hbml1cHVsYXRpb24uanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC1hcHAvLi9zcmMvbW9kdWxlcy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC1hcHAvLi9zcmMvbW9kdWxlcy9jbGFzc2VzLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QtYXBwLy4vc3JjL21vZHVsZXMvc3RhcnQuanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC1hcHAvLi9zcmMvbW9kdWxlcy9zdG9yYWdlLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QtYXBwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFVJIGZyb20gIFwiLi9VSW1hbml1cHVsYXRpb25cIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUYXNrTW9kYWwoKXtcclxuICAgIGNvbnN0IHRhc2tDcmVhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG4gICAgdGFza0NyZWF0b3IuY2xhc3NMaXN0LmFkZChcIm1vZGFsXCIpXHJcbiAgICB0YXNrQ3JlYXRvci5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInRhc2tDcmVhdGlvbkhlYWRlciBtb2RhbEhlYWRlclwiPlxyXG4gICAgICAgICAgICA8ZGl2Pk5ldyBUYXNrPC9kaXY+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEtc29saWQgZmEteFwiPjwvaT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8Zm9ybSBjbGFzcz1cInRhc2tDcmVhdGlvbkZvcm1cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhc2tEZXRhaWxzMVwiPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInRhc2tUaXRsZVwiPlRpdGxlOjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJ0YXNrRW50cnlcIiB0eXBlPVwidGV4dFwiIGlkPVwidGFza1RpdGxlXCIgcGxhY2Vob2xkZXI9XCJlLmcuIFBheSBiaWxsc1wiIHNwZWxsY2hlY2sgPSBcInRydWVcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JNc2dcIj48L3NwYW4+XHJcblxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInRhc2tEZXNjcmlwdGlvblwiPkRlc2NyaXB0aW9uOjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJ0YXNrRW50cnlcIiBpZD1cInRhc2tEZXNjcmlwdGlvblwiIHBsYWNlaG9sZGVyPVwiZS5nLiBpbnRlcm5ldCwgcGhvbmUsIHJlbnQsIGV0Y1wiIHNwZWxsY2hlY2sgPSBcInRydWVcIj48L3RleHRhcmVhPlxyXG5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YXNrRGV0YWlsczJcIj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJkdWVEYXRlXCI+RHVlIERhdGU6PC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiBjbGFzcz1cInRhc2tFbnRyeVwiIGlkPVwiZHVlRGF0ZVwiPlxyXG5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJwcmlvcml0eVwiPlByaW9yaXR5OjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPVwicHJpb3JpdHlcIiBjbGFzcz1cInRhc2tFbnRyeVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJub25lXCIgc2VsZWN0ZWQ+Tm9uZTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJsb3dcIj5Mb3c8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibWVkaXVtXCI+TWVkaXVtPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImhpZ2hcIj5IaWdoPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuXHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiXCI+UHJvamVjdDo8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cIlwiIGNsYXNzPVwidGFza0VudHJ5XCI+PC9zZWxlY3Q+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFza0NyZWF0aW9uRGVjaXNpb25cIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2FuY2VsVGFza0J0biBtb2RhbEJ0biBjYW5jZWxNb2RhbEJ0blwiPkNhbmNlbDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJhZGRUYXNrQnRuIG1vZGFsQnRuIGFkZE1vZGFsQnRuXCI+QWRkIHRhc2s8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDwvZm9ybT5cclxuXHJcbiAgICBgXHJcblxyXG4gICAgcmV0dXJuIHRhc2tDcmVhdG9yXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0Y3JlYXRvciAoKSB7XHJcbiAgICBjb25zdCBwcm9qZWN0Q3JlYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuICAgIHByb2plY3RDcmVhdG9yLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0Q3JlYXRvclwiKVxyXG4gICAgcHJvamVjdENyZWF0b3IuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiUHJvamVjdCBuYW1lLi4uXCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicHJvamVjdEVyb3JyTXNnXCI+PC9zcGFuPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwcm9qZWN0QnRuIGNhbmNlbFByb2plY3RCdG5cIj5DYW5jZWw8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInByb2plY3RCdG4gYWRkUHJvamVjdEJ0blwiPkFkZCBQcm9qZWN0PC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICBgXHJcbiAgICByZXR1cm4gcHJvamVjdENyZWF0b3JcclxufSAiLCJpbXBvcnQgKiBhcyBjcmVhdGlvbiBmcm9tIFwiLi9kb21DcmVhdGlvblwiXHJcbmltcG9ydCAqIGFzIFVJIGZyb20gIFwiLi9VSW1hbml1cHVsYXRpb25cIjtcclxuaW1wb3J0ICogYXMgZXZlbnRzIGZyb20gXCIuL2V2ZW50c1wiXHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BsYXlNZW51KCkge1xyXG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJtYWluI21haW5cIilcclxuICAgIGNvbnN0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tDb250YWluZXJcIilcclxuICAgIG1haW4uY2xhc3NMaXN0LnRvZ2dsZShcIm1lbnVJc05vdEFjdGl2ZVwiKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheVByb2plY3RzKGV2ZW50KSB7XHJcbiAgICBjb25zdCBkcm9wRG93biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZHJvcERvd25cIilcclxuICAgIGNvbnN0IGNhcmV0U3ltYm9sID0gZXZlbnQudGFyZ2V0LmNoaWxkcmVuWzBdXHJcbiAgICBpZiAoZHJvcERvd24uc3R5bGUuZGlzcGxheSA9PSBcIm5vbmVcIikge1xyXG4gICAgICAgIGRyb3BEb3duLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcclxuICAgICAgICBjYXJldFN5bWJvbC5jbGFzc0xpc3QudG9nZ2xlKFwiZmEtY2FyZXQtZG93blwiKVxyXG4gICAgICAgIGNhcmV0U3ltYm9sLmNsYXNzTGlzdC50b2dnbGUoXCJmYS1jYXJldC11cFwiKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBkcm9wRG93bi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuICAgICAgICBjYXJldFN5bWJvbC5jbGFzc0xpc3QudG9nZ2xlKFwiZmEtY2FyZXQtZG93blwiKVxyXG4gICAgICAgIGNhcmV0U3ltYm9sLmNsYXNzTGlzdC50b2dnbGUoXCJmYS1jYXJldC11cFwiKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheU1vZGFsKGV2ZW50KXtcclxuICAgIGNvbnN0IGJhY2tncm91bmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWxCYWNrZ3JvdW5kXCIpXHJcbiAgICBiYWNrZ3JvdW5kTW9kYWwuYXBwZW5kQ2hpbGQoY3JlYXRpb24uY3JlYXRlVGFza01vZGFsKCkpXHJcblxyXG4gICAgY29uc3QgY3Jvc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZhLXhcIilcclxuICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FuY2VsVGFza0J0blwiKVxyXG4gICAgZXZlbnRzLmFkZEV2ZW50KHJlbW92ZU1vZGFsLFwiY2xpY2tcIixjcm9zcyxjYW5jZWxCdG4pXHJcblxyXG4gICAgYmFja2dyb3VuZE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIlxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTW9kYWwoZXZlbnQpIHtcclxuICAgIGNvbnN0IGJhY2tncm91bmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWxCYWNrZ3JvdW5kXCIpXHJcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbFwiKVxyXG4gICAgY29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYW5jZWxUYXNrQnRuXCIpXHJcbiAgICBjb25zdCBjcm9zcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmEteFwiKVxyXG5cclxuICAgIGV2ZW50cy5yZW1vdmVFdmVudChyZW1vdmVNb2RhbCxcImNsaWNrXCIsY3Jvc3MsY2FuY2VsQnRuKVxyXG5cclxuICAgIGJhY2tncm91bmRNb2RhbC5yZW1vdmVDaGlsZChmb3JtKVxyXG4gICAgYmFja2dyb3VuZE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheVByb2plY3RDcmVhdGlvbihldmVudCkge1xyXG4gICAgY29uc3QgcHJvamVjdENyZWF0b3IgPSBjcmVhdGlvbi5jcmVhdGVQcm9qZWN0Y3JlYXRvcigpXHJcbiAgICBjb25zdCBwcm9qZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdHNcIilcclxuICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZFByb2plY3RcIilcclxuICAgIGNvbnN0IGRyb3Bkb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kcm9wRG93blwiKVxyXG4gICAgZHJvcGRvd24uYXBwZW5kQ2hpbGQoY3JlYXRpb24uY3JlYXRlUHJvamVjdGNyZWF0b3IoKSlcclxuXHJcbiAgICBjb25zdCBjb25maXJtUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkUHJvamVjdEJ0blwiKVxyXG4gICAgY29uc3QgY2FuY2VsUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FuY2VsUHJvamVjdEJ0blwiKVxyXG5cclxuICAgIGV2ZW50cy5hZGRFdmVudChyZW1vdmVQcm9qZWN0Q3JlYXRpb24sXCJjbGlja1wiLGNhbmNlbFByb2plY3RCdG4pXHJcblxyXG4gICAgcHJvamVjdHMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbiAgICBhZGRQcm9qZWN0QnRuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVByb2plY3RDcmVhdGlvbihldmVudCkge1xyXG4gICAgY29uc3QgcHJvamVjdENyZWF0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3RDcmVhdG9yXCIpXHJcbiAgICBjb25zdCBwcm9qZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdHNcIilcclxuICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZFByb2plY3RcIilcclxuICAgIGNvbnN0IGRyb3Bkb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kcm9wRG93blwiKSAgICBcclxuICAgIFxyXG4gICAgY29uc3QgY29uZmlybVByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZFByb2plY3RCdG5cIilcclxuICAgIGNvbnN0IGNhbmNlbFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbmNlbFByb2plY3RCdG5cIilcclxuXHJcbiAgICBldmVudHMucmVtb3ZlRXZlbnQocmVtb3ZlUHJvamVjdENyZWF0aW9uLFwiY2xpY2tcIixjYW5jZWxQcm9qZWN0QnRuKVxyXG5cclxuXHJcbiAgICBkcm9wZG93bi5yZW1vdmVDaGlsZChwcm9qZWN0Q3JlYXRvcilcclxuICAgIHByb2plY3RzLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcclxuICAgIGFkZFByb2plY3RCdG4uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkUHJvamVjdHMoLi4ucHJvamVjdHMpIHtcclxuICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwicHJvamVjdHNcIilcclxuICAgIHByb2plY3RzLmZvckVhY2gocHJvamVjdD0+e1xyXG4gICAgICAgIHByb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvamVjdClcclxuICAgIH0pXHJcbn0iLCJpbXBvcnQgKiBhcyBVSSBmcm9tIFwiLi9VSW1hbml1cHVsYXRpb25cIlxyXG5cclxuZXhwb3J0IGNvbnN0IFVJbWFuaXB1bGF0b3IgPSAoKT0+e1xyXG4gICAgLy8gZWxlbWVudHNcclxuICAgIGNvbnN0IG1lbnVJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51SWNvblwiKVxyXG4gICAgY29uc3QgcHJvamVjdHNEcm9wZG93biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdHNUaXRsZVwiKVxyXG4gICAgY29uc3QgYWRkVGFza0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkVGFza1wiKVxyXG4gICAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkUHJvamVjdFwiKVxyXG4gICAgLy8gZXZlbnQgbGlzdGVuZXJzXHJcbiAgICBtZW51SWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiAsIFVJLmRpc3BsYXlNZW51KVxyXG4gICAgcHJvamVjdHNEcm9wZG93bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgVUkuZGlzcGxheVByb2plY3RzKVxyXG4gICAgYWRkVGFza0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixVSS5kaXNwbGF5TW9kYWwpXHJcbiAgICBhZGRQcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLFVJLmRpc3BsYXlQcm9qZWN0Q3JlYXRpb24pXHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkRXZlbnQgKGZ1bmMsZXZlbnQsIC4uLmVsZW1lbnRzICkge1xyXG4gICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50PT5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsZnVuYykpfTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVFdmVudCAoZnVuYyxldmVudCwgLi4uZWxlbWVudHMgKSB7XHJcbiAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQ9PiBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsZnVuYykpfTsiLCJleHBvcnQgY2xhc3MgUHJvamVjdCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSkge1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZVxyXG4gICAgICAgIHRoaXMudGFza3MgPSBbXVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZW5lcmF0ZUhUTUwgKCkge1xyXG4gICAgICAgIHJldHVybiBcclxuICAgIH1cclxuICAgIFxyXG4gICAgYWRkVGFzayh0YXNrKXtcclxuICAgICAgICB0aGlzLnRhc2tzLnB1c2godGFzaylcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVUYXNrKHRhc2tJbmRleCkge1xyXG4gICAgICAgIHRoaXMudGFza3Muc3BsaWNlKHRhc2tJbmRleCwgMSlcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyB0YXNrIHtcclxuICAgIGNvbnN0cnVjdG9yKHRpdGxlLGRlc2NyaXB0aW9uLHByaW9yaXR5LGR1ZURhdGUscHJvamVjdCkge1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XHJcbiAgICAgICAgdGhpcy5wcmlvcml0eT0gcHJpb3JpdHk7XHJcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcclxuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0XHJcbiAgICAgICAgdGhpcy5jb21wbGV0aW9uID0gIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgIFxyXG4gICAgZ2VuZXJhdGVIVE1MICgpIHtcclxuICAgICAgICByZXR1cm4gXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBtYXN0ZXJPYmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wcm9qZWN0cyA9IFtdXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFsbFRhc2tzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3RzLnJlZHVjZSgodGFza3NBcnJheSxwcm9qZWN0KT0+KFxyXG4gICAgICAgICAgICB0YXNrc0FycmF5LmNvbmNhdChwcm9qZWN0LnRhc2tzKSksW10pXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4iLCJpbXBvcnQgKiBhcyBjbHMgZnJvbSBcIi4vY2xhc3Nlc1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZpcnN0VGltZU1hc3Rlck9iaigpIHtcclxuICAgIC8vIGNyZWF0aW5nIG1hc3RlciBvYmplY3RcclxuICAgIGNvbnN0IG1hc3Rlck9iamVjdCA9IG5ldyBjbHMubWFzdGVyT2JqZWN0KClcclxuICAgIC8vIGFkZGluZyBob21lIHByb2plY3RcclxuICAgIG1hc3Rlck9iamVjdC5wcm9qZWN0cy5wdXNoKG5ldyBjbHMuUHJvamVjdChcIkhvbWVcIikpXHJcbiAgICAvLyBhZGRpbmcgZXhhbXBsZSB0YXNrXHJcbiAgICBjb25zdCBleGFtcGxlVGFzayA9IG5ldyBjbHMudGFzayhcImV4YW1wbGVUYXNrXCIsXCJ0ZXN0aW5nIHBsZWFzZSB3b3JrXCIsIFwibWVkaXVtXCIsXCIxMi8xMi8xMlwiLFwiSG9tZVwiKVxyXG4gICAgbWFzdGVyT2JqZWN0LnByb2plY3RzWzBdLnRhc2tzLnB1c2goZXhhbXBsZVRhc2spXHJcbiAgICBsb2NhbFN0b3JhZ2UubWFzdGVyT2JqZWN0ID0gSlNPTi5zdHJpbmdpZnkobWFzdGVyT2JqZWN0KSAgICBcclxuICAgIHJldHVybiBtYXN0ZXJPYmplY3RcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZmVyVGFza3ModGFza0FycmF5KSB7XHJcbiAgICB0YXNrQXJyYXkubWFwKHRhc2sgPT4gKFxyXG4gICAgICAgIE9iamVjdC5hc3NpZ24obmV3IGNscy50YXNrLCB0YXNrKSkpXHJcblxyXG59XHJcbiIsImltcG9ydCB7Y3JlYXRlRmlyc3RUaW1lTWFzdGVyT2JqfSBmcm9tIFwiLi9zdGFydFwiXHJcbmltcG9ydCAqIGFzIGNscyBmcm9tIFwiLi9jbGFzc2VzXCJcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNYXN0ZXJPYmplY3QoKXtcclxuICAgIGlmICh0eXBlb2YoU3RvcmFnZSkgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBpZiAobG9jYWxTdG9yYWdlLm1hc3Rlck9iamVjdCkge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdNYXN0ZXJPYmplY3QgPSBuZXcgY2xzLm1hc3Rlck9iamVjdCgpXHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZE1hc3Rlck9iamVjdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLm1hc3Rlck9iamVjdClcclxuICAgICAgICAgICAgLy8gdHJhbnNmZXJpbmcgYWxsIHByb2plY3RzIGFuZCB0YXNrc1xyXG4gICAgICAgICAgICBuZXdNYXN0ZXJPYmplY3QucHJvamVjdHMgPSBzdG9yZWRNYXN0ZXJPYmplY3QucHJvamVjdHMubWFwKHByb2plY3Q9PntcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Byb2plY3QgPSBuZXcgY2xzLlByb2plY3QoKVxyXG4gICAgICAgICAgICAgICAgbmV3UHJvamVjdC50YXNrcyA9IHByb2plY3QudGFza3MubWFwKHRhc2s9PihcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG5ldyBjbHMudGFzayx0YXNrKSkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXdQcm9qZWN0LHByb2plY3QpIFxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLm1hc3Rlck9iamVjdCA9IEpTT04uc3RyaW5naWZ5KG5ld01hc3Rlck9iamVjdClcclxuICAgICAgICAgICAgcmV0dXJuIG5ld01hc3Rlck9iamVjdFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybiBjcmVhdGVGaXJzdFRpbWVNYXN0ZXJPYmooKVxyXG4gICAgfSBlbHNlIHJldHVybiBjcmVhdGVGaXJzdFRpbWVNYXN0ZXJPYmooKVxyXG59XHJcbiIsImltcG9ydCB7IFVJbWFuaXB1bGF0b3IgfSBmcm9tIFwiLi9tb2R1bGVzL2V2ZW50c1wiO1xyXG5pbXBvcnQgKiBhcyBzIGZyb20gXCIuL21vZHVsZXMvc3RvcmFnZVwiXHJcbmNvbnN0IG1hc3Rlck9iamVjdCA9IHMuZ2V0TWFzdGVyT2JqZWN0KClcclxuVUltYW5pcHVsYXRvcigpXHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVQcm9qZWN0Y3JlYXRvciIsInByb2plY3RDcmVhdG9yIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJIVE1MIiwiZGlzcGxheU1lbnUiLCJtYWluIiwicXVlcnlTZWxlY3RvciIsInRvZ2dsZSIsImRpc3BsYXlQcm9qZWN0cyIsImV2ZW50IiwiZHJvcERvd24iLCJjYXJldFN5bWJvbCIsInRhcmdldCIsImNoaWxkcmVuIiwic3R5bGUiLCJkaXNwbGF5IiwiZGlzcGxheU1vZGFsIiwiYmFja2dyb3VuZE1vZGFsIiwiYXBwZW5kQ2hpbGQiLCJ0YXNrQ3JlYXRvciIsInJlbW92ZU1vZGFsIiwiZm9ybSIsImNhbmNlbEJ0biIsInJlbW92ZUNoaWxkIiwiZGlzcGxheVByb2plY3RDcmVhdGlvbiIsInByb2plY3RzIiwiYWRkUHJvamVjdEJ0biIsInJlbW92ZVByb2plY3RDcmVhdGlvbiIsImRyb3Bkb3duIiwiYWRkRXZlbnQiLCJmdW5jIiwiZWxlbWVudHMiLCJmb3JFYWNoIiwiZWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQcm9qZWN0IiwiY29uc3RydWN0b3IiLCJ0aXRsZSIsInRoaXMiLCJ0YXNrcyIsImdlbmVyYXRlSFRNTCIsImFkZFRhc2siLCJ0YXNrIiwicHVzaCIsInJlbW92ZVRhc2siLCJ0YXNrSW5kZXgiLCJzcGxpY2UiLCJkZXNjcmlwdGlvbiIsInByaW9yaXR5IiwiZHVlRGF0ZSIsInByb2plY3QiLCJjb21wbGV0aW9uIiwiYWxsVGFza3MiLCJyZWR1Y2UiLCJ0YXNrc0FycmF5IiwiY29uY2F0IiwiY3JlYXRlRmlyc3RUaW1lTWFzdGVyT2JqIiwibWFzdGVyT2JqZWN0IiwiZXhhbXBsZVRhc2siLCJsb2NhbFN0b3JhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwibmV3TWFzdGVyT2JqZWN0Iiwic3RvcmVkTWFzdGVyT2JqZWN0IiwicGFyc2UiLCJtYXAiLCJuZXdQcm9qZWN0IiwiT2JqZWN0IiwiYXNzaWduIiwibWVudUljb24iLCJwcm9qZWN0c0Ryb3Bkb3duIiwiYWRkVGFza0J0biIsIlVJbWFuaXB1bGF0b3IiXSwic291cmNlUm9vdCI6IiJ9