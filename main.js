(()=>{"use strict";function e(){const e=document.createElement("div");return e.classList.add("projectCreator"),e.innerHTML='\n        <div>\n            <input id="projectName" type="text" placeholder="Project name...">\n            <span class="projectErorrMsg"></span>\n        </div>\n        <div>\n            <button class="projectBtn cancelProjectBtn">Cancel</button>\n            <button class="projectBtn addProjectBtn">Add Project</button>\n        </div>\n    ',e}class t{constructor(e){this.title=e,this.tasks=[]}get projectHTML(){return function(e){const t=document.createElement("div");return t.classList.add("project"),t.innerHTML=`\n        <i class="fa-solid fa-circle"></i>\n        <div class="projectTitle">${e}</div>\n        <div class="taskCounter"></div>\n        <i class="fa-solid fa-trash bin"></i>\n    `,t}(this.title)}addTask(e){this.tasks.push(e)}removeTask(e){this.tasks.splice(e,1)}}class n{constructor(e,t,n,o,c){this.title=e,this.description=t,this.priority=n,this.dueDate=o,this.project=c,this.completion=!1}get taskHTML(){}}class o{constructor(){this.projects=[]}get allTasks(){return this.projects.reduce(((e,t)=>e.concat(t.tasks)),[])}}function c(){const e=new o;e.projects.push(new t("Home"));const c=new n("exampleTask","testing please work","medium","12/12/12","Home");return e.projects[0].tasks.push(c),localStorage.masterObject=JSON.stringify(e),e}const s=(()=>{if("undefined"!=typeof Storage){if(localStorage.masterObject){const e=new o,c=JSON.parse(localStorage.masterObject);return e.projects=c.projects.map((e=>{const o=new t;return o.tasks=e.tasks.map((e=>Object.assign(new n,e))),Object.assign(o,e)})),localStorage.clear(),localStorage.masterObject=JSON.stringify(e),e}return localStorage.clear(),c()}return localStorage.clear(),c()})();function r(e){const n=document.querySelector("input#projectName"),o=(c=n.value)?/^[1-9!@#$%^&*(),.?":{}|<>].*/g.test(c)?{validity:!1,message:"cant start with numbers or special character"}:{validity:!0,message:""}:{validity:!1,message:"cant enter empty name"};var c;if(!o.validity){const e=document.querySelector("span.projectErorrMsg");return e.textContent=o.message,void setTimeout((()=>{e.textContent=""}),1200)}const r=(a=n.value,new t(a));var a,d,u;d=r,u=s,console.log(u),u.projects.push(d),localStorage.masterObject=JSON.stringify(u),i(r),l()}function a(e){const t=document.querySelector("#modalBackground"),n=document.querySelector(".modal"),o=document.querySelector(".cancelTaskBtn");!function(e,t,...n){n.forEach((n=>n.removeEventListener(t,e)))}(a,"click",document.querySelector(".fa-x"),o),t.removeChild(n),t.style.display="none"}function l(e){const t=document.querySelector(".projectCreator"),n=document.querySelector(".projects"),o=document.querySelector(".addProject"),c=document.querySelector(".dropDown"),s=document.querySelector(".addProjectBtn"),a=document.querySelector(".cancelProjectBtn");s.removeEventListener("click",r),a.removeEventListener("click",l),c.removeChild(t),n.style.display="flex",o.style.display="flex"}function i(...e){const t=document.querySelector(".projects");e.forEach((e=>{"Home"!=e.title&&t.appendChild(e.projectHTML)}))}const d=document.querySelector(".menuIcon"),u=document.querySelector(".projectsTitle"),p=document.querySelector(".addTask"),m=document.querySelector(".addProject"),y=document.querySelector("aside"),v=document.querySelector("main");d.addEventListener("click",(function(){const e=document.querySelector("main#main");document.querySelector(".taskContainer"),e.classList.toggle("menuIsNotActive")})),u.addEventListener("click",(function(e){const t=document.querySelector(".dropDown"),n=e.target.children[0];"none"==t.style.display?(t.style.display="flex",n.classList.toggle("fa-caret-down"),n.classList.toggle("fa-caret-up")):(t.style.display="none",n.classList.toggle("fa-caret-down"),n.classList.toggle("fa-caret-up"))})),p.addEventListener("click",(function(e){const t=document.querySelector("#modalBackground");t.appendChild(function(e){const t=document.createElement("div");t.classList.add("modal"),t.innerHTML='\n        <div class="taskCreationHeader modalHeader">\n            <div>New Task</div>\n            <i class="fa-solid fa-x"></i>\n        </div>\n        <form class="taskCreationForm">\n            <div class="taskDetails1">\n                <label for="taskTitle">Title:</label>\n                <input class="taskEntry" type="text" id="taskTitle" placeholder="e.g. Pay bills" spellcheck = "true">\n                <span class="errorMsg"></span>\n\n                <label for="taskDescription">Description:</label>\n                <textarea class="taskEntry" id="taskDescription" placeholder="e.g. internet, phone, rent, etc" spellcheck = "true"></textarea>\n\n            </div>\n            <div class="taskDetails2">\n                <label for="dueDate">Due Date:</label>\n                <input type="datetime-local" class="taskEntry" id="dueDate">\n\n                <label for="priority">Priority:</label>\n                <select id="priority" class="taskEntry">\n                    <option value="none" selected>None</option>\n                    <option value="low">Low</option>\n                    <option value="medium">Medium</option>\n                    <option value="high">High</option>\n                </select>\n\n                <label for="projectSelection">Project:</label>\n                <select id="projectSelection" class="taskEntry">\n                \n                </select>\n            </div>\n            <div class="taskCreationDecision">\n                <button type="button" class="cancelTaskBtn modalBtn cancelModalBtn">Cancel</button>\n                <button type="button" class="addTaskBtn modalBtn addModalBtn">Add task</button>\n            </div>\n\n        </form>\n\n    ';const n=t.querySelector("#projectSelection");return e.projects.forEach((e=>{const t=document.createElement("option");t.textContent=e.title,"Home"==e.title&&(t.selected=!0),n.appendChild(t)})),t}(s)),function(e,t,...n){n.forEach((n=>n.addEventListener(t,e)))}(a,"click",document.querySelector(".fa-x"),document.querySelector(".cancelTaskBtn")),t.style.display="flex"})),m.addEventListener("click",(function(t){e();const n=document.querySelector(".projects"),o=document.querySelector(".addProject");document.querySelector(".dropDown").appendChild(e());const c=document.querySelector(".addProjectBtn"),s=document.querySelector(".cancelProjectBtn");c.addEventListener("click",r),s.addEventListener("click",l),n.style.display="none",o.style.display="none"})),window.addEventListener("resize",(e=>y.style.height=`${v.scrollHeight}px`)),i(...[...s.projects].splice(0,1))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNyQ0EsRUFBU0MsU0FBUUMsR0FBU0EsRUFBUWtCLGlCQUFpQnpDLEVBQU1vQixJQUFNLENHZ0IvRCxDQUFjSixFQUFZLFFBRlozRCxTQUFTNkMsY0FBYyxTQUNuQjdDLFNBQVM2QyxjQUFjLG1CQUd6Q2UsRUFBZ0JTLE1BQU1DLFFBQVUsTUFDcEMsSUNwQkFFLEVBQWNZLGlCQUFpQixTRGtDeEIsU0FBZ0N6QyxHQUNaLElBQXZCLE1BQ01uQixFQUFXeEIsU0FBUzZDLGNBQWMsYUFDbEMyQixFQUFnQnhFLFNBQVM2QyxjQUFjLGVBQzVCN0MsU0FBUzZDLGNBQWMsYUFDL0JpQyxZQUFZLEtBRXJCLE1BQU1KLEVBQW9CMUUsU0FBUzZDLGNBQWMsa0JBQzNDOEIsRUFBbUIzRSxTQUFTNkMsY0FBYyxxQkFFaEQ2QixFQUFrQlUsaUJBQWlCLFFBQVMsR0FDNUNULEVBQWlCUyxpQkFBaUIsUUFBU2IsR0FFM0MvQyxFQUFTNkMsTUFBTUMsUUFBVSxPQUN6QkUsRUFBY0gsTUFBTUMsUUFBVSxNQUVsQyxJQ2hEQXdCLE9BQU9WLGlCQUFpQixVQUFTVyxHQUM3QmIsRUFBUWIsTUFBTTJCLE9BQVMsR0FBR2IsRUFBS2MsbUJBRW5DLEtBQXNCLElBQUksWUFBMkJoRixPQUFPLEVBQUUsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvLWRvLWxpc3QtYXBwLy4vc3JjL21vZHVsZXMvZG9tQ3JlYXRpb24uanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC1hcHAvLi9zcmMvbW9kdWxlcy9jbGFzc2VzLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QtYXBwLy4vc3JjL21vZHVsZXMvZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC1hcHAvLi9zcmMvbW9kdWxlcy9zdG9yYWdlLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QtYXBwLy4vc3JjL21vZHVsZXMvZnVuY3Rpb25CdW5kbGVyLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QtYXBwLy4vc3JjL21vZHVsZXMvVUltYW5pdXB1bGF0aW9uLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QtYXBwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1hc3Rlck9iamVjdCB9IGZyb20gXCIuL3N0b3JhZ2VcIlxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRhc2tNb2RhbChtYXN0ZXJPYmope1xyXG4gICAgY29uc3QgdGFza0NyZWF0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcbiAgICB0YXNrQ3JlYXRvci5jbGFzc0xpc3QuYWRkKFwibW9kYWxcIilcclxuICAgIHRhc2tDcmVhdG9yLmlubmVySFRNTCA9IGBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwidGFza0NyZWF0aW9uSGVhZGVyIG1vZGFsSGVhZGVyXCI+XHJcbiAgICAgICAgICAgIDxkaXY+TmV3IFRhc2s8L2Rpdj5cclxuICAgICAgICAgICAgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS14XCI+PC9pPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxmb3JtIGNsYXNzPVwidGFza0NyZWF0aW9uRm9ybVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFza0RldGFpbHMxXCI+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwidGFza1RpdGxlXCI+VGl0bGU6PC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cInRhc2tFbnRyeVwiIHR5cGU9XCJ0ZXh0XCIgaWQ9XCJ0YXNrVGl0bGVcIiBwbGFjZWhvbGRlcj1cImUuZy4gUGF5IGJpbGxzXCIgc3BlbGxjaGVjayA9IFwidHJ1ZVwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvck1zZ1wiPjwvc3Bhbj5cclxuXHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwidGFza0Rlc2NyaXB0aW9uXCI+RGVzY3JpcHRpb246PC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cInRhc2tFbnRyeVwiIGlkPVwidGFza0Rlc2NyaXB0aW9uXCIgcGxhY2Vob2xkZXI9XCJlLmcuIGludGVybmV0LCBwaG9uZSwgcmVudCwgZXRjXCIgc3BlbGxjaGVjayA9IFwidHJ1ZVwiPjwvdGV4dGFyZWE+XHJcblxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhc2tEZXRhaWxzMlwiPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImR1ZURhdGVcIj5EdWUgRGF0ZTo8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIGNsYXNzPVwidGFza0VudHJ5XCIgaWQ9XCJkdWVEYXRlXCI+XHJcblxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInByaW9yaXR5XCI+UHJpb3JpdHk6PC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9XCJwcmlvcml0eVwiIGNsYXNzPVwidGFza0VudHJ5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm5vbmVcIiBzZWxlY3RlZD5Ob25lPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImxvd1wiPkxvdzwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJtZWRpdW1cIj5NZWRpdW08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiaGlnaFwiPkhpZ2g8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJwcm9qZWN0U2VsZWN0aW9uXCI+UHJvamVjdDo8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cInByb2plY3RTZWxlY3Rpb25cIiBjbGFzcz1cInRhc2tFbnRyeVwiPlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YXNrQ3JlYXRpb25EZWNpc2lvblwiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjYW5jZWxUYXNrQnRuIG1vZGFsQnRuIGNhbmNlbE1vZGFsQnRuXCI+Q2FuY2VsPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImFkZFRhc2tCdG4gbW9kYWxCdG4gYWRkTW9kYWxCdG5cIj5BZGQgdGFzazwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPC9mb3JtPlxyXG5cclxuICAgIGBcclxuICAgIC8vIGFjY2Vzc2luZyB0aGUgc2Vjb25kIHNlbGVjdCBvcHRpb25cclxuICAgIGNvbnN0IHByb2plY3RTZWxlY3RvciA9IHRhc2tDcmVhdG9yLnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdFNlbGVjdGlvblwiKVxyXG4gICAgbWFzdGVyT2JqLnByb2plY3RzLmZvckVhY2gocHJvamVjdCA9PiB7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKVxyXG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IHByb2plY3QudGl0bGVcclxuICAgICAgICAvLyBkZWZhdWx0IG9wdGlvblxyXG4gICAgICAgIGlmIChwcm9qZWN0LnRpdGxlID09IFwiSG9tZVwiKSBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlXHJcblxyXG4gICAgICAgIHByb2plY3RTZWxlY3Rvci5hcHBlbmRDaGlsZChvcHRpb24pXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGFza0NyZWF0b3JcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb2plY3RDcmVhdG9yICgpIHtcclxuICAgIGNvbnN0IHByb2plY3RDcmVhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG4gICAgcHJvamVjdENyZWF0b3IuY2xhc3NMaXN0LmFkZChcInByb2plY3RDcmVhdG9yXCIpXHJcbiAgICBwcm9qZWN0Q3JlYXRvci5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPGlucHV0IGlkPVwicHJvamVjdE5hbWVcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiUHJvamVjdCBuYW1lLi4uXCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicHJvamVjdEVyb3JyTXNnXCI+PC9zcGFuPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwcm9qZWN0QnRuIGNhbmNlbFByb2plY3RCdG5cIj5DYW5jZWw8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInByb2plY3RCdG4gYWRkUHJvamVjdEJ0blwiPkFkZCBQcm9qZWN0PC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICBgXHJcbiAgICByZXR1cm4gcHJvamVjdENyZWF0b3JcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb2plY3QocHJvamVjdFRpdGxlKSB7XHJcbiAgICBjb25zdCBwcm9qZWN0SFRNTCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuICAgIHByb2plY3RIVE1MLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0XCIpXHJcbiAgICBwcm9qZWN0SFRNTC5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1jaXJjbGVcIj48L2k+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInByb2plY3RUaXRsZVwiPiR7cHJvamVjdFRpdGxlfTwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0YXNrQ291bnRlclwiPjwvZGl2PlxyXG4gICAgICAgIDxpIGNsYXNzPVwiZmEtc29saWQgZmEtdHJhc2ggYmluXCI+PC9pPlxyXG4gICAgYFxyXG4gICAgcmV0dXJuIHByb2plY3RIVE1MXHJcbn0iLCJpbXBvcnQgKiBhcyBjcmVhdGlvbiBmcm9tIFwiLi9kb21DcmVhdGlvblwiXHJcblxyXG5leHBvcnQgY2xhc3MgUHJvamVjdCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSkge1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZVxyXG4gICAgICAgIHRoaXMudGFza3MgPSBbXVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXQgcHJvamVjdEhUTUwgKCkge1xyXG4gICAgICAgIHJldHVybiBjcmVhdGlvbi5jcmVhdGVQcm9qZWN0KHRoaXMudGl0bGUpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFkZFRhc2sodGFzayl7XHJcbiAgICAgICAgdGhpcy50YXNrcy5wdXNoKHRhc2spXHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlVGFzayh0YXNrSW5kZXgpIHtcclxuICAgICAgICB0aGlzLnRhc2tzLnNwbGljZSh0YXNrSW5kZXgsIDEpXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgdGFzayB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSxkZXNjcmlwdGlvbixwcmlvcml0eSxkdWVEYXRlLHByb2plY3QpIHtcclxuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gICAgICAgIHRoaXMucHJpb3JpdHk9IHByaW9yaXR5O1xyXG4gICAgICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XHJcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdFxyXG4gICAgICAgIHRoaXMuY29tcGxldGlvbiA9ICBmYWxzZTtcclxuICAgIH1cclxuICAgICBcclxuICAgIGdldCB0YXNrSFRNTCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIFxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgbWFzdGVyT2JqZWN0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucHJvamVjdHMgPSBbXVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBhbGxUYXNrcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0cy5yZWR1Y2UoKHRhc2tzQXJyYXkscHJvamVjdCk9PihcclxuICAgICAgICAgICAgdGFza3NBcnJheS5jb25jYXQocHJvamVjdC50YXNrcykpLFtdKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuIiwiaW1wb3J0ICogYXMgY2xzIGZyb20gXCIuL2NsYXNzZXNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGaXJzdFRpbWVNYXN0ZXJPYmooKSB7XHJcbiAgICAvLyBjcmVhdGluZyBtYXN0ZXIgb2JqZWN0XHJcbiAgICBjb25zdCBtYXN0ZXJPYmplY3QgPSBuZXcgY2xzLm1hc3Rlck9iamVjdCgpXHJcbiAgICAvLyBhZGRpbmcgaG9tZSBwcm9qZWN0XHJcbiAgICBtYXN0ZXJPYmplY3QucHJvamVjdHMucHVzaChuZXcgY2xzLlByb2plY3QoXCJIb21lXCIpKVxyXG4gICAgLy8gYWRkaW5nIGV4YW1wbGUgdGFza1xyXG4gICAgY29uc3QgZXhhbXBsZVRhc2sgPSBuZXcgY2xzLnRhc2soXCJleGFtcGxlVGFza1wiLFwidGVzdGluZyBwbGVhc2Ugd29ya1wiLCBcIm1lZGl1bVwiLFwiMTIvMTIvMTJcIixcIkhvbWVcIilcclxuICAgIG1hc3Rlck9iamVjdC5wcm9qZWN0c1swXS50YXNrcy5wdXNoKGV4YW1wbGVUYXNrKVxyXG4gICAgbG9jYWxTdG9yYWdlLm1hc3Rlck9iamVjdCA9IEpTT04uc3RyaW5naWZ5KG1hc3Rlck9iamVjdCkgICAgXHJcbiAgICByZXR1cm4gbWFzdGVyT2JqZWN0XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudCAoZnVuYyxldmVudCwgLi4uZWxlbWVudHMgKSB7XHJcbiAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQ9PmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCxmdW5jKSl9O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUV2ZW50IChmdW5jLGV2ZW50LCAuLi5lbGVtZW50cyApIHtcclxuICAgIGVsZW1lbnRzLmZvckVhY2goZWxlbWVudD0+IGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCxmdW5jKSl9O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb2plY3QoaW5wdXRWYWx1ZSl7XHJcbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gbmV3IGNscy5Qcm9qZWN0KGlucHV0VmFsdWUpXHJcbiAgICAvLyAgZm9yIGV4cGFuc2lvbiBpZiBuZWVkZWRcclxuICAgIHJldHVybiBuZXdQcm9qZWN0XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja05hbWVWYWxpZGl0eShuYW1lKSB7XHJcbiAgICBjb25zdCBJbnZhbGlkUGF0dGVybiA9IC9eWzEtOSFAIyQlXiYqKCksLj9cIjp7fXw8Pl0uKi9nXHJcbiAgICBpZiAoIW5hbWUpIHJldHVybiB7XHJcbiAgICAgICAgICAgIHZhbGlkaXR5OmZhbHNlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBcImNhbnQgZW50ZXIgZW1wdHkgbmFtZVwiXHJcbiAgICAgICAgfSBcclxuICAgIGVsc2UgaWYgKEludmFsaWRQYXR0ZXJuLnRlc3QobmFtZSkpIHJldHVybiB7XHJcbiAgICAgICAgdmFsaWRpdHk6ZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogXCJjYW50IHN0YXJ0IHdpdGggbnVtYmVycyBvciBzcGVjaWFsIGNoYXJhY3RlclwiXHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHZhbGlkaXR5OnRydWUsXHJcbiAgICAgICAgbWVzc2FnZSA6IFwiXCJcclxuICAgIH1cclxufSIsImltcG9ydCB7Y3JlYXRlRmlyc3RUaW1lTWFzdGVyT2JqfSBmcm9tIFwiLi9mdW5jdGlvblwiXHJcbmltcG9ydCAqIGFzIGNscyBmcm9tIFwiLi9jbGFzc2VzXCJcclxuXHJcbmV4cG9ydCBjb25zdCBtYXN0ZXJPYmplY3QgPSAoKCk9PntcclxuICAgIGlmICh0eXBlb2YoU3RvcmFnZSkgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBpZiAobG9jYWxTdG9yYWdlLm1hc3Rlck9iamVjdCkge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdNYXN0ZXJPYmplY3QgPSBuZXcgY2xzLm1hc3Rlck9iamVjdCgpXHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZE1hc3Rlck9iamVjdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLm1hc3Rlck9iamVjdClcclxuICAgICAgICAgICAgLy8gdHJhbnNmZXJpbmcgYWxsIHByb2plY3RzIGFuZCB0YXNrc1xyXG4gICAgICAgICAgICBuZXdNYXN0ZXJPYmplY3QucHJvamVjdHMgPSBzdG9yZWRNYXN0ZXJPYmplY3QucHJvamVjdHMubWFwKHByb2plY3Q9PntcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Byb2plY3QgPSBuZXcgY2xzLlByb2plY3QoKVxyXG4gICAgICAgICAgICAgICAgbmV3UHJvamVjdC50YXNrcyA9IHByb2plY3QudGFza3MubWFwKHRhc2s9PihcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG5ldyBjbHMudGFzayx0YXNrKSkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXdQcm9qZWN0LHByb2plY3QpIFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAvLyBzYXZpbmcgdGhlIG1hc3RlciBvYmplY3QgdG8gbG9jYWwgc3RvcmFnZVxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKSAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UubWFzdGVyT2JqZWN0ID0gSlNPTi5zdHJpbmdpZnkobmV3TWFzdGVyT2JqZWN0KVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3TWFzdGVyT2JqZWN0XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBqdXN0IHRvIG1ha2Ugc3VyZSB0aGUgdXNlciBkaWRudCBjaGFuZ2UgdGhlIGxvY2FsIHN0b3JhZ2VcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCkgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUZpcnN0VGltZU1hc3Rlck9iaigpXHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHsgICAgXHJcbiAgICAgICAgLy8ganVzdCB0byBtYWtlIHN1cmUgdGhlIHVzZXIgZGlkbnQgY2hhbmdlIHRoZSBsb2NhbCBzdG9yYWdlXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCkgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICByZXR1cm4gY3JlYXRlRmlyc3RUaW1lTWFzdGVyT2JqKClcclxuICAgIH1cclxufSkoKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzYXZlUHJvamVjdCAocHJvamVjdCxtYXN0ZXJPYmopIHtcclxuICAgIGNvbnNvbGUubG9nKG1hc3Rlck9iailcclxuICAgIG1hc3Rlck9iai5wcm9qZWN0cy5wdXNoKHByb2plY3QpXHJcbiAgICBsb2NhbFN0b3JhZ2UubWFzdGVyT2JqZWN0ID0gSlNPTi5zdHJpbmdpZnkobWFzdGVyT2JqKVxyXG59IiwiaW1wb3J0ICogYXMgY3JlYXRpb24gZnJvbSBcIi4vZG9tQ3JlYXRpb25cIlxyXG5pbXBvcnQgKiBhcyBmdW5jIGZyb20gXCIuL2Z1bmN0aW9uXCJcclxuaW1wb3J0ICogYXMgc3RyIGZyb20gXCIuL3N0b3JhZ2VcIlxyXG5pbXBvcnQgKiBhcyBVSSBmcm9tIFwiLi9VSW1hbml1cHVsYXRpb25cIlxyXG5cclxuLy8gZm9yIHdoZW4gdGhlIHRoZSB1c2VyIHdhbnRzIHRvIGNvbmZpcm0gdGhlaXIgcHJvamVjdCBjcmVhdGlvblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvamVjdChldmVudCkge1xyXG4gICAgY29uc3QgaW5wdXRGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dCNwcm9qZWN0TmFtZVwiKVxyXG4gICAgY29uc3QgdmFsdWVJbmZvID0gZnVuYy5jaGVja05hbWVWYWxpZGl0eShpbnB1dEZpZWxkLnZhbHVlKVxyXG5cclxuICAgIC8vIGNvbnN0IFxyXG4gICAgaWYgKCF2YWx1ZUluZm8udmFsaWRpdHkpIHtcclxuICAgICAgICBjb25zdCBlcnJvck1zZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJzcGFuLnByb2plY3RFcm9yck1zZ1wiKVxyXG4gICAgICAgIGVycm9yTXNnLnRleHRDb250ZW50ID0gdmFsdWVJbmZvLm1lc3NhZ2U7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKT0+e2Vycm9yTXNnLnRleHRDb250ZW50PVwiXCJ9LDEyMDApXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICAvLyBwcm9qZWN0IGNyZWF0aW9uXHJcbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gZnVuYy5jcmVhdGVQcm9qZWN0KGlucHV0RmllbGQudmFsdWUpXHJcbiAgICBzdHIuc2F2ZVByb2plY3QobmV3UHJvamVjdCxzdHIubWFzdGVyT2JqZWN0KVxyXG4gICAgVUkuYWRkUHJvamVjdHMobmV3UHJvamVjdClcclxuICAgIC8vIGZpbmlzaGluZ1xyXG4gICAgVUkucmVtb3ZlUHJvamVjdENyZWF0aW9uKClcclxuXHJcbn0iLCJpbXBvcnQgKiBhcyBjcmVhdGlvbiBmcm9tIFwiLi9kb21DcmVhdGlvblwiXHJcbmltcG9ydCAqIGFzIGZ1bmMgZnJvbSBcIi4vZnVuY3Rpb25cIlxyXG5pbXBvcnQgKiBhcyBidW5kbGUgZnJvbSBcIi4vZnVuY3Rpb25CdW5kbGVyXCJcclxuaW1wb3J0ICogYXMgcyBmcm9tIFwiLi9zdG9yYWdlXCJcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXNwbGF5TWVudSgpIHtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWFpbiNtYWluXCIpXHJcbiAgICBjb25zdCB0YXNrQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrQ29udGFpbmVyXCIpXHJcbiAgICBtYWluLmNsYXNzTGlzdC50b2dnbGUoXCJtZW51SXNOb3RBY3RpdmVcIilcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BsYXlQcm9qZWN0cyhldmVudCkge1xyXG4gICAgY29uc3QgZHJvcERvd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRyb3BEb3duXCIpXHJcbiAgICBjb25zdCBjYXJldFN5bWJvbCA9IGV2ZW50LnRhcmdldC5jaGlsZHJlblswXVxyXG4gICAgaWYgKGRyb3BEb3duLnN0eWxlLmRpc3BsYXkgPT0gXCJub25lXCIpIHtcclxuICAgICAgICBkcm9wRG93bi5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCJcclxuICAgICAgICBjYXJldFN5bWJvbC5jbGFzc0xpc3QudG9nZ2xlKFwiZmEtY2FyZXQtZG93blwiKVxyXG4gICAgICAgIGNhcmV0U3ltYm9sLmNsYXNzTGlzdC50b2dnbGUoXCJmYS1jYXJldC11cFwiKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBkcm9wRG93bi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuICAgICAgICBjYXJldFN5bWJvbC5jbGFzc0xpc3QudG9nZ2xlKFwiZmEtY2FyZXQtZG93blwiKVxyXG4gICAgICAgIGNhcmV0U3ltYm9sLmNsYXNzTGlzdC50b2dnbGUoXCJmYS1jYXJldC11cFwiKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheU1vZGFsKGV2ZW50KXtcclxuICAgIGNvbnN0IGJhY2tncm91bmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWxCYWNrZ3JvdW5kXCIpXHJcbiAgICBiYWNrZ3JvdW5kTW9kYWwuYXBwZW5kQ2hpbGQoY3JlYXRpb24uY3JlYXRlVGFza01vZGFsKHMubWFzdGVyT2JqZWN0KSlcclxuXHJcbiAgICBjb25zdCBjcm9zcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmEteFwiKVxyXG4gICAgY29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYW5jZWxUYXNrQnRuXCIpXHJcbiAgICBmdW5jLmFkZEV2ZW50KHJlbW92ZU1vZGFsLFwiY2xpY2tcIixjcm9zcyxjYW5jZWxCdG4pXHJcblxyXG4gICAgYmFja2dyb3VuZE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIlxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTW9kYWwoZXZlbnQpIHtcclxuICAgIGNvbnN0IGJhY2tncm91bmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWxCYWNrZ3JvdW5kXCIpXHJcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbFwiKVxyXG4gICAgY29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYW5jZWxUYXNrQnRuXCIpXHJcbiAgICBjb25zdCBjcm9zcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmEteFwiKVxyXG5cclxuICAgIGZ1bmMucmVtb3ZlRXZlbnQocmVtb3ZlTW9kYWwsXCJjbGlja1wiLGNyb3NzLGNhbmNlbEJ0bilcclxuXHJcbiAgICBiYWNrZ3JvdW5kTW9kYWwucmVtb3ZlQ2hpbGQoZm9ybSlcclxuICAgIGJhY2tncm91bmRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BsYXlQcm9qZWN0Q3JlYXRpb24oZXZlbnQpIHtcclxuICAgIGNvbnN0IHByb2plY3RDcmVhdG9yID0gY3JlYXRpb24uY3JlYXRlUHJvamVjdENyZWF0b3IoKVxyXG4gICAgY29uc3QgcHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3RzXCIpXHJcbiAgICBjb25zdCBhZGRQcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGRQcm9qZWN0XCIpXHJcbiAgICBjb25zdCBkcm9wZG93biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZHJvcERvd25cIilcclxuICAgIGRyb3Bkb3duLmFwcGVuZENoaWxkKGNyZWF0aW9uLmNyZWF0ZVByb2plY3RDcmVhdG9yKCkpXHJcbiAgICAvLyAgYnV0dG9ucyBvbiBtb2RhbFxyXG4gICAgY29uc3QgY29uZmlybVByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZFByb2plY3RCdG5cIilcclxuICAgIGNvbnN0IGNhbmNlbFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbmNlbFByb2plY3RCdG5cIilcclxuXHJcbiAgICBjb25maXJtUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYnVuZGxlLmNyZWF0ZVByb2plY3QpXHJcbiAgICBjYW5jZWxQcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZW1vdmVQcm9qZWN0Q3JlYXRpb24pXHJcblxyXG4gICAgcHJvamVjdHMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbiAgICBhZGRQcm9qZWN0QnRuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVByb2plY3RDcmVhdGlvbihldmVudCkge1xyXG4gICAgY29uc3QgcHJvamVjdENyZWF0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3RDcmVhdG9yXCIpXHJcbiAgICBjb25zdCBwcm9qZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdHNcIilcclxuICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZFByb2plY3RcIilcclxuICAgIGNvbnN0IGRyb3Bkb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kcm9wRG93blwiKSAgICBcclxuICAgIC8vICBidXR0b25zIG9uIG1vZGFsXHJcbiAgICBjb25zdCBjb25maXJtUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkUHJvamVjdEJ0blwiKVxyXG4gICAgY29uc3QgY2FuY2VsUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FuY2VsUHJvamVjdEJ0blwiKVxyXG5cclxuICAgIGNvbmZpcm1Qcm9qZWN0QnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBidW5kbGUuY3JlYXRlUHJvamVjdClcclxuICAgIGNhbmNlbFByb2plY3RCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIscmVtb3ZlUHJvamVjdENyZWF0aW9uKVxyXG5cclxuXHJcbiAgICBkcm9wZG93bi5yZW1vdmVDaGlsZChwcm9qZWN0Q3JlYXRvcilcclxuICAgIHByb2plY3RzLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIlxyXG4gICAgYWRkUHJvamVjdEJ0bi5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCJcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZFByb2plY3RzKC4uLnByb2plY3RzKSB7XHJcbiAgICBjb25zdCBwcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0c1wiKVxyXG4gICAgcHJvamVjdHMuZm9yRWFjaChwcm9qZWN0PT57XHJcbiAgICAgICAgaWYgKHByb2plY3QudGl0bGUgPT0gXCJIb21lXCIpIHJldHVyblxyXG4gICAgICAgIHByb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvamVjdC5wcm9qZWN0SFRNTClcclxuICAgIH0pXHJcbn0iLCJpbXBvcnQgKiBhcyBzdHIgZnJvbSBcIi4vbW9kdWxlcy9zdG9yYWdlXCJcclxuaW1wb3J0ICogYXMgVUkgZnJvbSBcIi4vbW9kdWxlcy9VSW1hbml1cHVsYXRpb25cIlxyXG5pbXBvcnQgKiBhcyBmdW5jIGZyb20gXCIuL21vZHVsZXMvZnVuY3Rpb25cIlxyXG4vLyBlbGVtZW50c1xyXG5jb25zdCBtZW51SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudUljb25cIilcclxuY29uc3QgcHJvamVjdHNEcm9wZG93biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdHNUaXRsZVwiKVxyXG5jb25zdCBhZGRUYXNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGRUYXNrXCIpXHJcbmNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZFByb2plY3RcIilcclxuY29uc3Qgc2lkZUJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJhc2lkZVwiKVxyXG5jb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1haW5cIilcclxuLy8gZXZlbnQgbGlzdGVuZXJzXHJcbm1lbnVJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiICwgVUkuZGlzcGxheU1lbnUpXHJcbnByb2plY3RzRHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIFVJLmRpc3BsYXlQcm9qZWN0cylcclxuYWRkVGFza0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixVSS5kaXNwbGF5TW9kYWwpXHJcbmFkZFByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsVUkuZGlzcGxheVByb2plY3RDcmVhdGlvbilcclxuLy8gbWFpbnRpbmcgc2lkZWJhciBoZWlnaHRcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixlID0+XHJcbiAgICBzaWRlQmFyLnN0eWxlLmhlaWdodCA9IGAke21haW4uc2Nyb2xsSGVpZ2h0fXB4YClcclxuLy8gb3RoZXJcclxuVUkuYWRkUHJvamVjdHMoLi4uWy4uLlsuLi5zdHIubWFzdGVyT2JqZWN0LnByb2plY3RzXS5zcGxpY2UoMCwxKV0pIl0sIm5hbWVzIjpbImNyZWF0ZVByb2plY3RDcmVhdG9yIiwicHJvamVjdENyZWF0b3IiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJQcm9qZWN0IiwiY29uc3RydWN0b3IiLCJ0aXRsZSIsInRoaXMiLCJ0YXNrcyIsInByb2plY3RIVE1MIiwicHJvamVjdFRpdGxlIiwiYWRkVGFzayIsInRhc2siLCJwdXNoIiwicmVtb3ZlVGFzayIsInRhc2tJbmRleCIsInNwbGljZSIsImRlc2NyaXB0aW9uIiwicHJpb3JpdHkiLCJkdWVEYXRlIiwicHJvamVjdCIsImNvbXBsZXRpb24iLCJ0YXNrSFRNTCIsInByb2plY3RzIiwiYWxsVGFza3MiLCJyZWR1Y2UiLCJ0YXNrc0FycmF5IiwiY29uY2F0IiwiY3JlYXRlRmlyc3RUaW1lTWFzdGVyT2JqIiwibWFzdGVyT2JqZWN0IiwiZXhhbXBsZVRhc2siLCJsb2NhbFN0b3JhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwibmV3TWFzdGVyT2JqZWN0Iiwic3RvcmVkTWFzdGVyT2JqZWN0IiwicGFyc2UiLCJtYXAiLCJuZXdQcm9qZWN0IiwiT2JqZWN0IiwiYXNzaWduIiwiY2xlYXIiLCJldmVudCIsImlucHV0RmllbGQiLCJxdWVyeVNlbGVjdG9yIiwidmFsdWVJbmZvIiwibmFtZSIsInZhbHVlIiwidGVzdCIsInZhbGlkaXR5IiwibWVzc2FnZSIsImVycm9yTXNnIiwidGV4dENvbnRlbnQiLCJzZXRUaW1lb3V0IiwiaW5wdXRWYWx1ZSIsIm1hc3Rlck9iaiIsImNvbnNvbGUiLCJsb2ciLCJyZW1vdmVNb2RhbCIsImJhY2tncm91bmRNb2RhbCIsImZvcm0iLCJjYW5jZWxCdG4iLCJmdW5jIiwiZWxlbWVudHMiLCJmb3JFYWNoIiwiZWxlbWVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW1vdmVDaGlsZCIsInN0eWxlIiwiZGlzcGxheSIsInJlbW92ZVByb2plY3RDcmVhdGlvbiIsImFkZFByb2plY3RCdG4iLCJkcm9wZG93biIsImNvbmZpcm1Qcm9qZWN0QnRuIiwiY2FuY2VsUHJvamVjdEJ0biIsImFkZFByb2plY3RzIiwicHJvamVjdENvbnRhaW5lciIsImFwcGVuZENoaWxkIiwibWVudUljb24iLCJwcm9qZWN0c0Ryb3Bkb3duIiwiYWRkVGFza0J0biIsInNpZGVCYXIiLCJtYWluIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRvZ2dsZSIsImRyb3BEb3duIiwiY2FyZXRTeW1ib2wiLCJ0YXJnZXQiLCJjaGlsZHJlbiIsInRhc2tDcmVhdG9yIiwicHJvamVjdFNlbGVjdG9yIiwib3B0aW9uIiwic2VsZWN0ZWQiLCJ3aW5kb3ciLCJlIiwiaGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0Il0sInNvdXJjZVJvb3QiOiIifQ==